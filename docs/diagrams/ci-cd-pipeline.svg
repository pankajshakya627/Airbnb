<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 350" font-family="'Segoe UI', Arial, sans-serif">
  <defs>
    <linearGradient id="bg3" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#0f0c29"/>
      <stop offset="50%" stop-color="#302b63"/>
      <stop offset="100%" stop-color="#24243e"/>
    </linearGradient>
    <filter id="shadow3">
      <feDropShadow dx="1" dy="2" stdDeviation="3" flood-color="#000" flood-opacity="0.4"/>
    </filter>
    <!-- Animated gradient for active pipe -->
    <linearGradient id="pipeFlow" x1="0" y1="0" x2="1" y2="0">
      <stop offset="0%" stop-color="#00b894">
        <animate attributeName="offset" values="0;0.5;0" dur="2s" repeatCount="indefinite"/>
      </stop>
      <stop offset="50%" stop-color="#55efc4">
        <animate attributeName="offset" values="0.5;1;0.5" dur="2s" repeatCount="indefinite"/>
      </stop>
      <stop offset="100%" stop-color="#00b894">
        <animate attributeName="offset" values="1;1.5;1" dur="2s" repeatCount="indefinite"/>
      </stop>
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="900" height="350" fill="url(#bg3)" rx="16"/>

  <!-- Title -->
  <text x="450" y="35" text-anchor="middle" fill="#fff" font-size="20" font-weight="700" opacity="0">
    ğŸ”„ CI/CD Pipeline â€” GitHub Actions
    <animate attributeName="opacity" from="0" to="1" dur="0.6s" fill="freeze"/>
  </text>

  <!-- === CI SECTION === -->
  <g opacity="0">
    <animate attributeName="opacity" from="0" to="1" dur="0.4s" begin="0.3s" fill="freeze"/>
    <text x="280" y="65" text-anchor="middle" fill="#74b9ff" font-size="14" font-weight="600">CI Pipeline (ci.yml)</text>
  </g>

  <!-- Step 1: Push -->
  <g filter="shadow3" opacity="0">
    <animate attributeName="opacity" from="0" to="1" dur="0.4s" begin="0.5s" fill="freeze"/>
    <animateTransform attributeName="transform" type="translate" from="0 20" to="0 0" dur="0.4s" begin="0.5s" fill="freeze"/>
    <rect x="20" y="80" width="120" height="100" rx="12" fill="#2d3436"/>
    <text x="80" y="115" text-anchor="middle" fill="#fff" font-size="26">ğŸ“¤</text>
    <text x="80" y="140" text-anchor="middle" fill="#dfe6e9" font-size="12" font-weight="700">Push</text>
    <text x="80" y="158" text-anchor="middle" fill="#636e72" font-size="9">to main branch</text>
    <!-- Trigger pulse -->
    <circle cx="130" cy="90" r="6" fill="#00b894">
      <animate attributeName="r" values="4;7;4" dur="1.5s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="1;0.4;1" dur="1.5s" repeatCount="indefinite"/>
    </circle>
  </g>

  <!-- Pipe 1â†’2 -->
  <g opacity="0">
    <animate attributeName="opacity" from="0" to="1" dur="0.3s" begin="0.9s" fill="freeze"/>
    <line x1="140" y1="130" x2="165" y2="130" stroke="url(#pipeFlow)" stroke-width="3" stroke-linecap="round"/>
    <polygon points="163,126 163,134 170,130" fill="#55efc4">
      <animate attributeName="opacity" values="1;0.5;1" dur="1s" repeatCount="indefinite"/>
    </polygon>
  </g>

  <!-- Step 2: Lint -->
  <g filter="shadow3" opacity="0">
    <animate attributeName="opacity" from="0" to="1" dur="0.4s" begin="1s" fill="freeze"/>
    <animateTransform attributeName="transform" type="translate" from="0 20" to="0 0" dur="0.4s" begin="1s" fill="freeze"/>
    <rect x="172" y="80" width="120" height="100" rx="12" fill="#e94560"/>
    <text x="232" y="115" text-anchor="middle" fill="#fff" font-size="26">ğŸ”</text>
    <text x="232" y="140" text-anchor="middle" fill="#fff" font-size="12" font-weight="700">Lint</text>
    <text x="232" y="158" text-anchor="middle" fill="rgba(255,255,255,0.7)" font-size="9">Ruff check + format</text>
  </g>

  <!-- Pipe 2â†’3 -->
  <g opacity="0">
    <animate attributeName="opacity" from="0" to="1" dur="0.3s" begin="1.4s" fill="freeze"/>
    <line x1="292" y1="130" x2="317" y2="130" stroke="url(#pipeFlow)" stroke-width="3" stroke-linecap="round"/>
    <polygon points="315,126 315,134 322,130" fill="#55efc4">
      <animate attributeName="opacity" values="1;0.5;1" dur="1s" repeatCount="indefinite"/>
    </polygon>
  </g>

  <!-- Step 3: Test -->
  <g filter="shadow3" opacity="0">
    <animate attributeName="opacity" from="0" to="1" dur="0.4s" begin="1.5s" fill="freeze"/>
    <animateTransform attributeName="transform" type="translate" from="0 20" to="0 0" dur="0.4s" begin="1.5s" fill="freeze"/>
    <rect x="324" y="80" width="120" height="100" rx="12" fill="#0f3460"/>
    <text x="384" y="115" text-anchor="middle" fill="#fff" font-size="26">ğŸ§ª</text>
    <text x="384" y="140" text-anchor="middle" fill="#74b9ff" font-size="12" font-weight="700">Test</text>
    <text x="384" y="158" text-anchor="middle" fill="rgba(255,255,255,0.7)" font-size="9">56 tests + coverage</text>
    <!-- DB badge -->
    <rect x="344" y="163" width="80" height="14" rx="7" fill="rgba(255,255,255,0.1)"/>
    <text x="384" y="174" text-anchor="middle" fill="#55efc4" font-size="8">PostgreSQL 16</text>
  </g>

  <!-- Pipe 3â†’4 -->
  <g opacity="0">
    <animate attributeName="opacity" from="0" to="1" dur="0.3s" begin="1.9s" fill="freeze"/>
    <line x1="444" y1="130" x2="469" y2="130" stroke="url(#pipeFlow)" stroke-width="3" stroke-linecap="round"/>
    <polygon points="467,126 467,134 474,130" fill="#55efc4">
      <animate attributeName="opacity" values="1;0.5;1" dur="1s" repeatCount="indefinite"/>
    </polygon>
  </g>

  <!-- Step 4: Build -->
  <g filter="shadow3" opacity="0">
    <animate attributeName="opacity" from="0" to="1" dur="0.4s" begin="2s" fill="freeze"/>
    <animateTransform attributeName="transform" type="translate" from="0 20" to="0 0" dur="0.4s" begin="2s" fill="freeze"/>
    <rect x="476" y="80" width="120" height="100" rx="12" fill="#533483"/>
    <text x="536" y="115" text-anchor="middle" fill="#fff" font-size="26">ğŸ³</text>
    <text x="536" y="140" text-anchor="middle" fill="#d4a5ff" font-size="12" font-weight="700">Build</text>
    <text x="536" y="158" text-anchor="middle" fill="rgba(255,255,255,0.7)" font-size="9">Docker multi-stage</text>
  </g>

  <!-- Pipe 4â†’5 -->
  <g opacity="0">
    <animate attributeName="opacity" from="0" to="1" dur="0.3s" begin="2.4s" fill="freeze"/>
    <line x1="596" y1="130" x2="621" y2="130" stroke="url(#pipeFlow)" stroke-width="3" stroke-linecap="round"/>
    <polygon points="619,126 619,134 626,130" fill="#55efc4">
      <animate attributeName="opacity" values="1;0.5;1" dur="1s" repeatCount="indefinite"/>
    </polygon>
  </g>

  <!-- Step 5: Push to GHCR -->
  <g filter="shadow3" opacity="0">
    <animate attributeName="opacity" from="0" to="1" dur="0.4s" begin="2.5s" fill="freeze"/>
    <animateTransform attributeName="transform" type="translate" from="0 20" to="0 0" dur="0.4s" begin="2.5s" fill="freeze"/>
    <rect x="628" y="80" width="120" height="100" rx="12" fill="#00b894"/>
    <text x="688" y="115" text-anchor="middle" fill="#fff" font-size="26">ğŸ“¦</text>
    <text x="688" y="140" text-anchor="middle" fill="#fff" font-size="12" font-weight="700">Push</text>
    <text x="688" y="158" text-anchor="middle" fill="rgba(255,255,255,0.7)" font-size="9">to GHCR</text>
  </g>

  <!-- === CD SECTION === -->

  <!-- Pipe CIâ†’CD -->
  <g opacity="0">
    <animate attributeName="opacity" from="0" to="1" dur="0.3s" begin="2.9s" fill="freeze"/>
    <line x1="748" y1="130" x2="773" y2="130" stroke="#ffeaa7" stroke-width="3" stroke-dasharray="6,3" stroke-linecap="round">
      <animate attributeName="stroke-dashoffset" from="18" to="0" dur="1s" repeatCount="indefinite"/>
    </line>
    <polygon points="771,126 771,134 778,130" fill="#ffeaa7"/>
  </g>

  <!-- Step 6: Deploy -->
  <g filter="shadow3" opacity="0">
    <animate attributeName="opacity" from="0" to="1" dur="0.4s" begin="3s" fill="freeze"/>
    <animateTransform attributeName="transform" type="translate" from="0 20" to="0 0" dur="0.4s" begin="3s" fill="freeze"/>
    <rect x="780" y="80" width="100" height="100" rx="12" fill="#fdcb6e" opacity="0.9"/>
    <text x="830" y="115" text-anchor="middle" fill="#2d3436" font-size="26">ğŸš€</text>
    <text x="830" y="140" text-anchor="middle" fill="#2d3436" font-size="12" font-weight="700">Deploy</text>
    <text x="830" y="158" text-anchor="middle" fill="rgba(0,0,0,0.5)" font-size="9">SSH / ECS / Railway</text>
    <!-- Dashed border = placeholder -->
    <rect x="780" y="80" width="100" height="100" rx="12" fill="none" stroke="#f39c12" stroke-width="1.5" stroke-dasharray="5,3"/>
  </g>

  <!-- CD label -->
  <g opacity="0">
    <animate attributeName="opacity" from="0" to="1" dur="0.4s" begin="3s" fill="freeze"/>
    <text x="830" y="65" text-anchor="middle" fill="#ffeaa7" font-size="14" font-weight="600">CD</text>
  </g>

  <!-- === DETAIL ROW === -->
  <g opacity="0">
    <animate attributeName="opacity" from="0" to="1" dur="0.5s" begin="3.5s" fill="freeze"/>

    <!-- Triggers -->
    <rect x="20" y="210" width="210" height="120" rx="10" fill="rgba(255,255,255,0.05)" stroke="rgba(255,255,255,0.1)" stroke-width="1"/>
    <text x="40" y="235" fill="#74b9ff" font-size="12" font-weight="700">âš¡ Triggers</text>
    <text x="40" y="258" fill="#999" font-size="10">â€¢ Push to main branch</text>
    <text x="40" y="275" fill="#999" font-size="10">â€¢ Pull request to main</text>
    <text x="40" y="292" fill="#999" font-size="10">â€¢ Docker build on main only</text>
    <text x="40" y="309" fill="#999" font-size="10">â€¢ CD triggered by CI success</text>

    <!-- Environment -->
    <rect x="250" y="210" width="220" height="120" rx="10" fill="rgba(255,255,255,0.05)" stroke="rgba(255,255,255,0.1)" stroke-width="1"/>
    <text x="270" y="235" fill="#55efc4" font-size="12" font-weight="700">ğŸ”§ Test Environment</text>
    <text x="270" y="258" fill="#999" font-size="10">â€¢ PostgreSQL 16 Alpine (service)</text>
    <text x="270" y="275" fill="#999" font-size="10">â€¢ Python 3.12 + pip cache</text>
    <text x="270" y="292" fill="#999" font-size="10">â€¢ Alembic migrations</text>
    <text x="270" y="309" fill="#999" font-size="10">â€¢ Coverage XML report</text>

    <!-- Docker -->
    <rect x="490" y="210" width="200" height="120" rx="10" fill="rgba(255,255,255,0.05)" stroke="rgba(255,255,255,0.1)" stroke-width="1"/>
    <text x="510" y="235" fill="#d4a5ff" font-size="12" font-weight="700">ğŸ³ Docker Image</text>
    <text x="510" y="258" fill="#999" font-size="10">â€¢ Multi-stage build</text>
    <text x="510" y="275" fill="#999" font-size="10">â€¢ GHA layer caching</text>
    <text x="510" y="292" fill="#999" font-size="10">â€¢ OCI labels + HEALTHCHECK</text>
    <text x="510" y="309" fill="#999" font-size="10">â€¢ Tags: latest, sha, branch</text>

    <!-- Deploy Options -->
    <rect x="710" y="210" width="170" height="120" rx="10" fill="rgba(253,203,110,0.08)" stroke="rgba(253,203,110,0.3)" stroke-width="1" stroke-dasharray="4,2"/>
    <text x="730" y="235" fill="#ffeaa7" font-size="12" font-weight="700">ğŸš€ Deploy Options</text>
    <text x="730" y="258" fill="#999" font-size="10">â€¢ SSH to VPS</text>
    <text x="730" y="275" fill="#999" font-size="10">â€¢ AWS ECS</text>
    <text x="730" y="292" fill="#999" font-size="10">â€¢ Railway / Render</text>
    <text x="730" y="309" fill="#b2bec3" font-size="9" font-style="italic">Configure in deploy.yml</text>
  </g>
</svg>
